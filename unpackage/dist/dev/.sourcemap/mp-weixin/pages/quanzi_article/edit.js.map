{"version":3,"sources":["uni-app:///main.js","webpack:///D:/桌面/毕设/自主研发/pages/quanzi_article/edit.vue?49f4","webpack:///D:/桌面/毕设/自主研发/pages/quanzi_article/edit.vue?29a2","webpack:///D:/桌面/毕设/自主研发/pages/quanzi_article/edit.vue?2204","webpack:///D:/桌面/毕设/自主研发/pages/quanzi_article/edit.vue?6f33","uni-app:///pages/quanzi_article/edit.vue","webpack:///D:/桌面/毕设/自主研发/pages/quanzi_article/edit.vue?4624","webpack:///D:/桌面/毕设/自主研发/pages/quanzi_article/edit.vue?794b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","toolShow","headShow","boldShow","italicShow","formData","formOptions","onLoad","onReady","methods","submit","success","uni","title","addData","db","content","then","setTimeout","url","getDetail","mask","console","showCancel","onEditReady","size","context","html","checkStatus","onStatuschange","clickInsertImage","res","item","suffix","randomName","uniCloud","filePath","cloudPath","src","editOk","clickBold","clickItalic","clickHead","clickDivider","onFocus"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AACyL;AACzL,gBAAgB,sMAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kUAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA+sB,CAAgB,2uBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC4DnuB;AAAA;AAAA;AAAA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,eAIA;EACAC;IAEA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA;MAEA;MACA;MACA;MACA;IACA;EACA;EACAC;IACA;MACA;MACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IAGA;AACA;AACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MAAA;MACA;QACAC;UAEA;UACA;UACAC;YACAC;UACA;UACA;QACA;MACA;IACA;IAEAC;MAAA;MACAC;QACAF;QACAG;MACA,GACAC;QACAL;QACAA;UACAC;QACA;QACAK;UACAN;YACAO;UACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAC;MAAA;MACAR;QACAS;MACA;MACAN,8CACA,4MACA;QACA;QACA;UACA;UACAO;UACA;QACA;MACA;QACAV;UACAI;UACAO;QACA;MACA;QACAX;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IAEA;IACA;IACA;IAEA;IAEAY;MAAA;MACAZ;QACAa;QACAC;MACA;QACA;QACA;UACAC;QACA;MACA;IACA;IAQAC;MACA;QACA;MACA;QACA;MACA;IACA;IAGA;IACAC;MACA;MACA;MACA;MACA;IACA;IAGA;IACAC;MAAA;MACAlB;QACAD;UAAA;YAAA;YAAA;cAAA;gBAAA;kBAAA;oBAEAC;sBACAC;sBACAQ;oBACA;oBAAA,uCACAU;oBAAA;oBAAA;kBAAA;oBAAA;sBAAA;sBAAA;oBAAA;oBAAAC;oBACAC;oBACAC,oEACAD;oBAAA;oBAAA,OAEAE;sBACAC;sBACAC;oBACA;kBAAA;oBAHAN;oBAIA;sBACAO;oBACA;kBAAA;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA;oBAEA1B;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CACA;UAAA;YAAA;UAAA;UAAA;QAAA;MACA;IACA;IAGA;IACA2B;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAGA;IACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/VA;AAAA;AAAA;AAAA;AAAk1C,CAAgB,8zCAAG,EAAC,C;;;;;;;;;;;ACAt2C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/quanzi_article/edit.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/quanzi_article/edit.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./edit.vue?vue&type=template&id=1da4fd39&\"\nvar renderjs\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/quanzi_article/edit.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=template&id=1da4fd39&\"","var components\ntry {\n  components = {\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui_2.0.34/components/u-button/u-button\" */ \"@/uni_modules/uview-ui_2.0.34/components/u-button/u-button.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"edit\">\r\n\t\t<!-- <uni-forms ref=\"form\" :model=\"formData\" validate-trigger=\"submit\" err-show-type=\"toast\">\r\n -->\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t<input type=\"text\" v-model=\"formData.title\" placeholder-class=\"placeholderClass\">\r\n\t\t\t</view>\r\n\r\n\r\n\t\t\t<!-- <div id=\"div1\">\r\n       \t\t\t  <div v-html=\"formData.content\"></div>\r\n       </div> -->\r\n\t\t\t<!-- <uni-easyinput placeholder=\"文章内容\" v-model=\"formData.content\" trim=\"right\"></uni-easyinput> -->\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<editor class=\"myEdit\" placeholder=\"写点什么吧~~\" show-img-size show-img-toolbar show-img-resize\r\n\t\t\t\t\t@ready=\"onEditReady\" @focus=\"onFocus\" @statuschange=\"onStatuschange\">\r\n\t\t\t\t</editor>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- <uni-forms-item name=\"excerpt\" label=\"文章摘录\">\r\n        <uni-easyinput placeholder=\"文章摘录\" v-model=\"formData.excerpt\" trim=\"both\"></uni-easyinput>\r\n      </uni-forms-item> -->\r\n\t\t\t\r\n\t\t\t<!-- <view class=\"state\"><view class=\"leftext\">文章状态：</view> -->\r\n\t\t<!-- \t<uni-forms-item name=\"article_status\" label=\"文章状态\">\r\n\t\t\t\t<uni-data-checkbox v-model=\"formData.article_status\" :localdata=\"formOptions.article_status_localdata\">\r\n\t\t\t\t</uni-data-checkbox>\t</uni-forms-item> -->\r\n\t\t\t<!-- </view> -->\r\n\t\t\t\t\r\n\t\t\r\n\r\n\t\t\t<!-- <view class=\"uni-button-group\">\r\n\t\t\t\t<button type=\"primary\" class=\"uni-button\" @click=\"submit\">提交</button>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"btnGroup\">\r\n\t\t\t\t<u-button @click=\"submit\" type=\"primary\" text=\"确认发表\" :disabled=\"!formData.title.length\"></u-button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tools\"v-if=\"toolShow\">\r\n\t\t\t\t<view class=\"item\" @click=\"clickHead\">\r\n\t\t\t\t\t<text class=\"iconfont icon-zitibiaoti\" :class=\"headShow ? 'active' : ''\"></text> \r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\" @click=\"clickBold\">\r\n\t\t\t\t\t<text class=\"iconfont icon-zitijiacu\" :class=\"boldShow ? 'active': ''\"></text> \r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\" @click=\"clickItalic\">\r\n\t\t\t\t\t<text class=\"iconfont icon-zitixieti\" :class=\"italicShow ? 'active' : ''\"></text> \r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\" @click=\"clickDivider\"><text class=\"iconfont icon-fengexian\"></text> </view>\r\n\t\t\t\t<view class=\"item\" @click=\"clickInsertImage\"><text class=\"iconfont icon-charutupian\"></text> </view>\r\n\t\t\t\t<view class=\"item\" @click=\"editOk\"><text class=\"iconfont icon-duigou_kuai\"></text> </view>\r\n\t\t\t</view>\r\n\t\t<!-- </uni-forms>\r\n\t\t -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// import {\r\n\t// \tvalidator\r\n\t// } from '../../js_sdk/validator/quanzi_article.js';\r\n\timport {getImgSrc,getProvince} from \"@/utils/tools.js\"\t\r\n\tconst db = uniCloud.database();\r\n\tconst dbCollectionName = 'quanzi_article';\r\n \r\n\r\n\t// function getValidator(fields) {\r\n\t// \tlet result = {}\r\n\t// \tfor (let key in validator) {\r\n\t// \t\tif (fields.indexOf(key) > -1) {\r\n\t// \t\t\tresult[key] = validator[key]\r\n\t// \t\t}\r\n\t// \t}\r\n\t// \treturn result\r\n\t// }\r\n\r\n\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\t\r\n\t\t\tlet formData = {\r\n\t\t\t\t\"user_id\": \"\",\r\n\t\t\t\t\"title\": \"\",\r\n\t\t\t\t\"description\": \"\",\r\n\t\t\t\t\"province\": \"\",\r\n\t\t\t\t\"content\": \"\",\r\n\t\t\t\t \r\n\t\t\t\t\"article_status\":0 ,\r\n\t\t\t\t\"delState\": null,\r\n\t\t\t\t\"state\": null,\r\n\t\t\t\t\"view_count\": null,\r\n\t\t\t\t\"like_count\": null,\r\n\t\t\t\t\"comment_count\": null,\r\n\t\t\t\t// \"last_comment_user_id\": \"\",\r\n\t\t\t\t\"picurls\": [],\r\n\t\t\t\t// \"publish_date\": null,\r\n\t\t\t\t// \"publish_ip\": \"\",\r\n\t\t\t\t// \"last_modify_date\": null,\r\n\t\t\t\t// \"last_modify_ip\": \"\"\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ttoolShow:false,\r\n\t\t\t\theadShow:false,\r\n\t\t\t\tboldShow:false,\r\n\t\t\t\titalicShow:false,\r\n\t\t\t\tformData,\r\n\t\t\t\tformOptions: {\r\n\t\t\t\t\t\"article_status_localdata\": [{\r\n\t\t\t\t\t\t\t\"value\": 0,\r\n\t\t\t\t\t\t\t\"text\": \"草稿箱\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"value\": 1,\r\n\t\t\t\t\t\t\t\"text\": \"已发布\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t// rules: {\r\n\t\t\t\t// \t...getValidator(Object.keys(formData))\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tif (e.id) {\r\n\t\t\t\tconst id = e.id\r\n\t\t\t\tthis.formDataId = id\r\n\t\t\t\tthis.getDetail(id)\r\n\t\t\t\t// this.onEditReady()\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\t// this.$refs.form.setRules(this.rules)\r\nthis.onEditReady()\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\r\n\t\t\t/**\r\n\t\t\t * 验证表单并提交\r\n\t\t\t */\r\n\t\t\t// submit() {\r\n\r\n\t\t\t// \tuni.showLoading({\r\n\t\t\t// \t\tmask: true\r\n\t\t\t// \t})\r\n\t\t\t// \tthis.$refs.form.validate().then((res) => {\r\n\t\t\t// \t\treturn this.submitForm(res)\r\n\t\t\t// \t}).catch(() => {}).finally(() => {\r\n\t\t\t// \t\tuni.hideLoading()\r\n\t\t\t// \t})\r\n\t\t\t// },\r\n\r\n\t\t\t// /**\r\n\t\t\t//  * 提交表单\r\n\t\t\t//  */\r\n\t\t\t// submitForm(value) {\r\n\t\t\t// \t// value.content = editor.txt.html();\r\n\t\t\t// \t//   console.log('1')\r\n\t\t\t// \t// 使用 clientDB 提交数据\r\n\t\t\t// \treturn db.collection(dbCollectionName).doc(this.formDataId).update(value).then((res) => {\r\n\t\t\t// \t\tuni.showToast({\r\n\t\t\t// \t\t\ttitle: '修改成功'\r\n\t\t\t// \t\t})\r\n\t\t\t// \t\tthis.getOpenerEventChannel().emit('refreshData')\r\n\t\t\t// \t\tsetTimeout(() => uni.navigateBack(), 500)\r\n\t\t\t// \t}).catch((err) => {\r\n\t\t\t// \t\tuni.showModal({\r\n\t\t\t// \t\t\tcontent: err.message || '请求服务失败',\r\n\t\t\t// \t\t\tshowCancel: false\r\n\t\t\t// \t\t})\r\n\t\t\t// \t})\r\n\t\t\t// },\r\n            submit(){\n\t\t\t\tthis.editorCtx.getContents({\n\t\t\t\t\tsuccess:res=>{\n\t\t\t\t\t\t \n\t\t\t\t\t\tthis.formData.content=res.html;\n\t\t\t\t\t\tthis.formData.picurls=getImgSrc(res.html)\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle:\"发布中...\"\n\t\t\t\t\t\t})\t\t\t\t\t\t\n\t\t\t\t\t\tthis.addData();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\taddData( ){\n\t\t\t\tdb.collection(\"quanzi_article\").doc(this.formDataId).update({\n\t\t\t\t\t title:this.formData.title,\r\n\t\t\t\t\t content:this.formData.content,\t\t\t\t\t \n\t\t\t\t})\r\n\t\t\t\t.then(res=>{\t\t\t\t\t\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:\"发布成功\"\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\turl:\"/pages/quanzi_article/detail?id=\"+this.formDataId \n\t\t\t\t\t\t})\n\t\t\t\t\t},800)\n\t\t\t\t})\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取表单数据\r\n\t\t\t * @param {Object} id\r\n\t\t\t */\r\n\t\t\tgetDetail(id) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\tdb.collection(dbCollectionName).doc(id).field(\r\n\t\t\t\t\t\"user_id,title,description,province,content,excerpt,article_status,delState,state,view_count,like_count,comment_count,last_comment_user_id,picurls,publish_date,publish_ip,last_modify_date,last_modify_ip\"\r\n\t\t\t\t\t).get().then((res) => {\r\n\t\t\t\t\tconst data = res.result.data[0]\r\n\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\tthis.formData = data\r\n\t\t\t\t\t\tconsole.log(this.formData.content)\r\n\t\t\t\t\t\t this.onEditReady()\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: err.message || '请求服务失败',\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t}).finally(() => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//  //初始化编辑器\r\n\t\t\t//  onEditReady(){\r\n\t\t\t//  \tuni.createSelectorQuery().in(this).select('.myEdit').fields({\r\n\t\t\t//  \t\tsize:true,\r\n\t\t\t//  \t\tcontext:true\r\n\t\t\t//  \t},res=>{\t\t\t\t\t\r\n\t\t\t//  \t\tthis.editorCtx=res.context\r\n\t\t\t//  \t}).exec()\r\n\t\t\t//  },\r\n\t\t\t// async onEditReady(){    \r\n\t\t\t//    await uni.createSelectorQuery().in(this).select('.myEdit').context((res) => {    \r\n\t\t\t//     this.editorCtx = res.context \r\n\t\t\t// \t   console.log( res.context)\r\n\t\t\t// \t    // this.getDetail(id) \r\n\t\t\t//      this.editorCtx.setContents({  \r\n\t\t\t\t\t      \r\n\t\t\t//                 html:this.formData.content \r\n\t\t\t\t\t\t\t\r\n\t\t\t// \t\t\t\t//this.EditGoodsDetail.content为赋值内容。    \r\n\t\t\t//         })    \r\n\t\t\t//     }).exec()   \r\n\t\t\t\t \r\n\t\t\t// },\r\n\t\t\t\r\n\t\t\t onEditReady(){\r\n\t\t\t   uni.createSelectorQuery().in(this).select('.myEdit').fields({\r\n\t\t\t\t\tsize:true,\r\n\t\t\t\t\tcontext:true\r\n\t\t\t\t},res=>{\t\t\t\t\t\r\n\t\t\t\t\tthis.editorCtx=res.context\r\n\t\t\t\t\tthis.editorCtx.setContents({\r\n\t\t\t\t\t         html:this.formData.content \r\n         })  \r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\t \r\n\t\t \r\n\t\t\t \r\n\r\n\r\n\r\n\r\n\t\t\t\tcheckStatus(name, detail, obj) {\r\n\t\t\t\t\t\tif (detail.hasOwnProperty(name)) {\r\n\t\t\t\t\t\t\tthis[obj] = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis[obj] = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\r\n\r\n\t\t\t\t\t// 当样式发生改变的时候\r\n\t\t\t\t\tonStatuschange(e) {\r\n\t\t\t\t\t\tlet detail = e.detail\r\n\t\t\t\t\t\tthis.checkStatus(\"header\", detail, \"headShow\");\r\n\t\t\t\t\t\tthis.checkStatus(\"bold\", detail, \"boldShow\");\r\n\t\t\t\t\t\tthis.checkStatus(\"italic\", detail, \"italicShow\");\r\n\t\t\t\t\t},\r\n\r\n\r\n\t\t\t\t\t//添加图像\r\n\t\t\t\t\tclickInsertImage() {\r\n\t\t\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\t\t\tsuccess: async res => {\r\n\r\n\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\ttitle: \"上传中请稍后\",\r\n\t\t\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tfor (let item of res.tempFiles) {\r\n\t\t\t\t\t\t\t\t\tlet suffix = item.path.substring(item.path.lastIndexOf(\".\"));\r\n\t\t\t\t\t\t\t\t\tlet randomName = Date.now() + \"\" + String(Math.random()).substr(3, 6) +\r\n\t\t\t\t\t\t\t\t\t\tsuffix\r\n\r\n\t\t\t\t\t\t\t\t\tlet res = await uniCloud.uploadFile({\r\n\t\t\t\t\t\t\t\t\t\tfilePath: item.path,\r\n\t\t\t\t\t\t\t\t\t\tcloudPath: item.name || randomName\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tthis.editorCtx.insertImage({\r\n\t\t\t\t\t\t\t\t\t\tsrc: res.fileID\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\r\n\r\n\t\t\t\t\t//点击工具条的确认\r\n\t\t\t\t\teditOk() {\r\n\t\t\t\t\t\tthis.toolShow = false;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t//加粗\r\n\t\t\t\t\tclickBold() {\r\n\t\t\t\t\t\tthis.boldShow = !this.boldShow\r\n\t\t\t\t\t\tthis.editorCtx.format(\"bold\")\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t//设置倾斜\r\n\t\t\t\t\tclickItalic() {\r\n\t\t\t\t\t\tthis.italicShow = !this.italicShow;\r\n\t\t\t\t\t\tthis.editorCtx.format(\"italic\")\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t//添加大标题\r\n\t\t\t\t\tclickHead() {\r\n\t\t\t\t\t\tthis.headShow = !this.headShow\r\n\t\t\t\t\t\tthis.editorCtx.format(\"header\", this.headShow ? 'H2' : false)\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t//添加分割线\r\n\t\t\t\t\tclickDivider() {\r\n\t\t\t\t\t\tthis.editorCtx.insertDivider();\r\n\t\t\t\t\t},\r\n\r\n\r\n\t\t\t\t\t//离开焦点\r\n\t\t\t\t\tonFocus() {\r\n\t\t\t\t\t\tthis.toolShow = true\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n</script>\r\n\r\n<style lang=\"scss\" >\n/deep/ .ql-blank::before{\n\tfont-style: normal;\n\tcolor:#e0e0e0;\n}\n\t\r\n\t/*scoped /deep/.title{\r\n\t\tinput{\r\n\t\t\theight: 120rpx;\r\n\t\t\tfont-size: 46rpx;\r\n\t\t\tborder-bottom:1px solid #e4e4e4;\r\n\t\t\tmargin-bottom:30rpx;\r\n\t\t\tcolor:#000;\r\n\t\t\tfont-weight:400;\r\n\t\t}\r\n\t\t.placeholderClass{\r\n\t\t\tcolor:#e0e0e0;\r\n\t\t}\r\n\t\t}} */\r\n\t// .uni-container {\r\n\t// \tpadding: 15px;\r\n\t// }\r\n\r\n\t// .uni-input-border,\r\n\t// .uni-textarea-border {\r\n\t// \twidth: 100%;\r\n\t// \tfont-size: 14px;\r\n\t// \tcolor: #666;\r\n\t// \tborder: 1px #e5e5e5 solid;\r\n\t// \tborder-radius: 5px;\r\n\t// \tbox-sizing: border-box;\r\n\t// }\r\n\r\n\t// .uni-input-border {\r\n\t// \tpadding: 0 10px;\r\n\t// \theight: 35px;\r\n\r\n\t// }\r\n\r\n\t// .uni-textarea-border {\r\n\t// \tpadding: 10px;\r\n\t// \theight: 80px;\r\n\t// }\r\n\r\n\t// .uni-button-group {\r\n\t// \tmargin-top: 50px;\r\n\t// \t/* #ifndef APP-NVUE */\r\n\t// \tdisplay: flex;\r\n\t// \t/* #endif */\r\n\t// \tjustify-content: center;\r\n\t// }\r\n\r\n\t// .uni-button {\r\n\t// \twidth: 184px;\r\n\t// }\r\n\r\n\t// .placeholderClass {\r\n\t// \tcolor: #e0e0e0;\r\n\t// }\r\n\r\n.edit{\r\n\tpadding:30rpx;\r\n\t.title{\r\n\t\tinput{\r\n\t\t\theight: 120rpx;\r\n\t\t\tfont-size: 46rpx;\r\n\t\t\tborder-bottom:1px solid #e4e4e4;\r\n\t\t\tmargin-bottom:30rpx;\r\n\t\t\tcolor:#000;\r\n\t\t}\r\n\t\t.placeholderClass{\r\n\t\t\tcolor:#e0e0e0;\r\n\t\t}\r\n\t}\r\n\t.content{\r\n\t\t.myEdit{\r\n\t\t\theight: calc(100vh - 500rpx);\r\n\t\t\tmargin-bottom:30rpx;\r\n\t\t}\t\t\r\n\t}\r\n\t.tools{\r\n\t\twidth: 100%;\r\n\t\theight: 80rpx;\r\n\t\tbackground: #fff;\r\n\t\tborder-top:1rpx solid #f4f4f4;\r\n\t\tposition: fixed;\r\n\t\tleft:0;\r\n\t\tbottom:0;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t\t.iconfont{\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tcolor:#333;\r\n\t\t\t&.active{\r\n\t\t\t\tcolor:#0199FE\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n.state{\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\t.leftext{\r\n\t\t// justify-content: start;\r\n\t\twidth: 25%;\r\n\t}\r\n}\r\n// /deep/\r\n.uni-forms-item__label{\r\n\twidth: 100px;\r\n}\r\n .uni-forms-item {\r\n\t/deep/.is-direction-left{\r\n\t\tmargin-bottom: 0px;\r\n\t\tbackground-color: #ffaa7f;\r\n\t\t\r\n\t}\r\n}\r\n\r\n</style>\n","import mod from \"-!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1676487799824\n      var cssReload = require(\"D:/桌面/毕设/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}